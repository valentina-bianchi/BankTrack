@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Login</title>

    <link rel="stylesheet" href="~/css/Login.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".submit").on("click", function (e) {
                e.preventDefault(); // Previene el comportamiento predeterminado del ancla

                // Obtener valores de los campos
                const email = $("#username").val().trim();
                const password = $("#pwd").val().trim();

                // Limpiar mensajes de error anteriores
                $(".alert").remove();

                // Validar si los campos están vacíos
                if (email === "" || password === "") {
                    showError("Por favor, completa todos los campos.");
                } else {
                    // Si todo está bien, envía el formulario
                    $(this).closest("form").submit();
                }
            });
        });

        function showError(message) {
            // Crea un nuevo elemento de alerta
            const alertDiv = $('<div class="alert alert-danger"></div>').text(message);
            $(".login-box").prepend(alertDiv); // Agrega el mensaje al principio del contenedor de login
        }
    </script>

    <style>
        .alert {
            background-color: #f8d7da; /* Color de fondo */
            color: #721c24; /* Color del texto */
            padding: 10px; /* Espaciado interno */
            border: 1px solid #f5c6cb; /* Borde del mensaje */
            border-radius: 5px; /* Bordes redondeados */
            margin-bottom: 20px; /* Espaciado inferior */
        }
    </style>


</head>
<body>
    <div class="login-box">
        <h2>Log In</h2>
        <form action="@Url.Action("Login","Inicio")" method="post">
            <div class="user-box">
                <input id="username" type="email" name="correo" placeholder="Email" required />
            </div>

            <div class="user-box">
                <input type="password" id="pwd" name="clave" placeholder="Contraseña" required />
            </div>

            <div class="forgot-password">
                <p><a class="forgot-password-link" href="@Url.Action("Restablecer","Inicio")">Has olvidado tu contraseña?</a></p>
            </div>
            @if (ViewBag.Mensaje != null)
            {
                <div class="alert alert-danger">
                    @ViewBag.Mensaje
                </div>
            }
            <a class="submit" href="#">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                Ingresar
            </a>

            

            <div class="sign-up">
                <p>No tiene una cuenta? <a class="sign-up-link" href="@Url.Action("Registrar","Inicio")"><strong>Sign Up</strong></a></p>
            </div>
        </form>
    </div>



    @*<div class="row justify-content-center mt-5">

        <div class="col-5">

            <div class="card">
                <div class="card-header"><h3 class="text-center">Login</h3></div>
                <div class="card-body">

                    <form action="@Url.Action("Login","Inicio")" method="post">

                        <div class="mb-3">
                            <label>Correo</label>
                            <input type="email" class="form-control" name="correo" required />
                        </div>
                        <div class="mb-3">
                            <label>Contraseña</label>
                            <input type="password" class="form-control" name="clave" required />
                        </div>

                        @if (ViewBag.Mensaje != null)
                        {
                            <div class="alert alert-danger">
                                @ViewBag.Mensaje
                            </div>
                        }

                        <div class="mb-3">
                            <div class="d-grid">
                                <button class="btn btn-primary" type="submit">Ingresar </button>
                                <a class="btn btn-link" href="@Url.Action("Registrar","Inicio")">No tienes una cuenta? Registrate!</a>
                                <a class="btn btn-link" href="@Url.Action("Restablecer","Inicio")">Has olvidado tu contraseña?</a>
                            </div>
                        </div>


                    </form>


                </div>
            </div>

        </div>


    </div> *@

    <div class="footer-div">
        <footer>
            <p>2024 Valentina Bianchi. All rights reserved.</p>
        </footer>
    </div>
</body>

</html>
